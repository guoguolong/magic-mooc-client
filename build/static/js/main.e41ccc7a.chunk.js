(this["webpackJsonpmagic-mooc"]=this["webpackJsonpmagic-mooc"]||[]).push([[2],{109:function(e,a,t){e.exports=t(406)},24:function(e,a,t){"use strict";a.a={baseApiUrl:"https://mooc-api.banyuan.club/"}},401:function(e,a,t){},406:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(42),l=t.n(r),s=(t(73),t(17)),i=t(15),o=t(37),m=t(102),u=t(39);var d=Object(u.c)({course:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{articles:[],activeArticle:{},path_ids_map:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"COURSE_FETCHED":return Object.assign({},e,a.course)}return e},activeArticle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:0},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ARTICLE_ACTIVATE":return Object.assign({},e,a.activeArticle)}return e},toc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TOC_REFRESH":return Object.assign({},e,a.ast)||{}}return e},activeTocHash:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TOC_ACTIVATE":return a.tocHash}return e}}),h=Object(u.d)(d,Object(u.a)(m.a));function E(){return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header-left-column"},c.a.createElement("div",{className:"mobile-button"},c.a.createElement("i",{className:"fas fa-bars"})),c.a.createElement("div",{className:"header-logo"},c.a.createElement("div",{className:"mobile-logo"},c.a.createElement("a",{href:"/",className:"logo-link"},c.a.createElement("img",{src:"/assets/images/logo.svg"}))),c.a.createElement("div",{className:"desktop-logo"},c.a.createElement("a",{href:"/",className:"logo-link"},c.a.createElement("img",{src:"/assets/images/logo.svg"})))),c.a.createElement("div",{className:"mobile-button"},c.a.createElement("i",{className:"fas fa-search"}))),c.a.createElement("div",{className:"header-inner-wrapper"},c.a.createElement("div",{className:"header-inner"},c.a.createElement("div",{className:"item"},c.a.createElement("a",{href:"/courses"},c.a.createElement("span",null,"Catalog"))),c.a.createElement("div",{className:"item"},c.a.createElement("a",{href:""},c.a.createElement("span",null,"About"))),c.a.createElement("div",{className:"item"},c.a.createElement("a",{href:""},c.a.createElement("span",null,"Term"))),c.a.createElement("div",{className:"item"},c.a.createElement("a",{href:""},c.a.createElement("span",null,"Privacy"))))),c.a.createElement("div",{className:"search-input-wrapper"},c.a.createElement("div",{className:"input-container"},c.a.createElement("i",{className:"fa fa-search"}),c.a.createElement("input",{placeholder:"Search..."}))))}var v=t(35),f=Object(s.b)((function(e){return{course:e.course,activeTocHash:e.activeTocHash}}))((function(e){var a=e.course,t=e.content,r=e.activeTocHash,l=(e.dispatch,Object(o.g)());r=l.hash||r;var s=window;return Object(n.useEffect)((function(){if(t&&r&&l.hash){var e=document.getElementById(r.replace(/^#/,""));e&&(s.removeEventListener("scroll",s.utils.scrollPosition),window.scrollTo({left:0,top:e.offsetTop,behavior:"smooth"}),window.onscroll=function(a){(window.pageYOffset||document.documentElement.scrollTop)===e.offsetTop&&(window.onscroll=null,s.addEventListener("scroll",s.utils.scrollPosition))})}})),c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-header"},c.a.createElement("div",{className:"page-header-inner"},c.a.createElement("h1",null,a.activeArticle.name),c.a.createElement("i",{className:"fas fa-list-ul mobile-toc-icon"}))),c.a.createElement("div",{className:"page-body",dangerouslySetInnerHTML:{__html:t}}),c.a.createElement("div",{className:"page-footer"}))}));var p=Object(s.b)((function(e){return{toc:e.toc}}))((function(e){var a=e.toc,t=e.dispatch,r=Object(o.g)().hash.slice(1),l=function(e,a){if(!e||!e.c||!e.c.length)return;a||(a=N.utils.createHashByTOCName(e.c[0].n));return e.c.map((function(e){return c.a.createElement(b,{level:"1",key:e.n,toc:e,activeAnchorHash:a})}))}(a,r);return Object(n.useEffect)((function(){N.utils.activateTOCAnchor(r,!0),t({type:"TOC_ACTIVATE",tocHash:g})})),c.a.createElement("div",{className:"page-side"},c.a.createElement("div",{className:"sticky-container"},c.a.createElement("div",{className:"toc-wrapper"},c.a.createElement("div",{className:"toc-inner"},c.a.createElement("div",{className:"toc-inner-content"},c.a.createElement("div",{className:"indicator",id:"indicator"}),c.a.createElement("div",{className:"toc-header"},c.a.createElement("i",{className:"fas fa-list-ul toc-icon"}),c.a.createElement("span",{className:"toc-title"},"CONTENTS")),c.a.createElement("div",{className:"toc-content"},c.a.createElement("ul",{className:"toc-items"},l)))))))}));var g="",N=window;function b(e){e.level;var a=e.toc,t=e.activeAnchorHash;t=t||"";var n=N.utils.createHashByTOCName(a.n),r=N.utils.createTOCAnchorNameByHash(n);N.tocs.push(n);var l=a.n&&t==n?"active":"";l&&(g=n);var s=[];return a.c&&(s=a.c.map((function(e){return c.a.createElement(b,{key:e.n,toc:e,activeAnchorHash:t})}))),c.a.createElement("li",{id:r},c.a.createElement("a",{href:"#"+n,onClick:function(){N.utils.activateTOCAnchor(n,!0)},className:l},c.a.createElement("div",null,a.n)),s.length>0&&c.a.createElement("ul",null,s))}var O=t(104),w=t.n(O),y=t(105),T=t(80),j=t.n(T);t(381);var C=Object(s.b)((function(e){return{course:e.course}}))((function(e){var a=e.course,r=e.dispatch,l=Object(n.useState)(""),s=Object(v.a)(l,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){if(a.id){var e=function(e,a){var n=e.activeArticle&&e.activeArticle.content||"",c=w()({html:!0,xhtmlOut:!0,typographer:!0,highlight:function(e,a){if(a&&j.a.getLanguage(a))try{return'<pre class="hljs"><code>'+j.a.highlight(a,e,!0).value+"</code></pre>"}catch(t){}return'<pre class="hljs"><code>'+c.utils.escapeHtml(e)+"</code></pre>"}}).use(y.a,{permalink:!0,permalinkBefore:!0}).use(t(382).default,{callback:function(e,t){a({type:"TOC_REFRESH",ast:t})}});return c.render(n)}(a,r);i!==e&&o(e)}}),[a]),c.a.createElement("div",{className:"whole-content-page"},c.a.createElement("div",{className:"whole-content-sticky"},c.a.createElement(f,{course:a,content:i}),c.a.createElement(p,null)))}));var _=Object(s.b)((function(e){return{course:e.course}}))((function(e){var a=e.course,t=(e.dispatch,Object(o.i)(),Object(o.h)()),n=t.courseId,r=t.articleId,l=function e(a,t,n,r){r=r||1;var l=Object.values(a);return(l=l.sort((function(e,a){return e.seq<a.seq?-1:1}))).map((function(a){var l=c.a.createElement(c.a.Fragment,null),s="fas",o=(a.parent_id,"top");a.is_active&&(o+=" active"),a.id==n&&(a.is_open=!0,a.active=!0),a.children&&(a.is_open?(s+=" fa-chevron-down",r=r||1,l=e(a.children,t,n,r+1)):s+=" fa-chevron-right");var m="/course/".concat(t,"/").concat(a.id);return c.a.createElement("li",{key:a.name},c.a.createElement(i.b,{className:o,to:m},c.a.createElement("span",null,a.name),a.children?c.a.createElement("i",{className:s}):""),a.children?c.a.createElement("ul",{className:"sub-menu"},l):"")}))}(a.articles,n,r);return c.a.createElement("div",{className:"content-nav",id:"sidebar"},c.a.createElement("div",{className:"content-nav-inner"},c.a.createElement("div",{className:"course-name"},a.name),c.a.createElement("ul",null,l)))}));var A=t(3),k=t.n(A),H=t(11),I=t(38),x=t.n(I),S=t(24);function L(e,a){var t={};return Object.values(e).map((function(e){if(a=a||[],e.path_ids=a.concat(e.id),t[e.id]=e.path_ids,e.children){var n=L(e.children,e.path_ids);t=Object.assign(t,n)}})),t}function B(e,a){var t=e[(a=a||[])[0]];t&&(t.is_open=!0,1==a.length&&(t.is_active=!0),t.children&&B(t.children,a.slice(1)))}function F(e){return R.apply(this,arguments)}function R(){return(R=Object(H.a)(k.a.mark((function e(a){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(S.a.baseApiUrl+"article/"+a);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U={fetchCourse:function(e,a){e=e||10;var t={articles:[]};return function(){var n=Object(H.a)(k.a.mark((function n(c){var r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.a.get(S.a.baseApiUrl+"course/summary/"+e);case 2:if(r=n.sent,t=r.data,a){n.next=8;break}a=parseInt(t.start_article_id),n.next=11;break;case 8:return n.next=10,F(a);case 10:t.activeArticle=n.sent;case 11:t.path_ids_map=L(t.articles),B(t.articles,t.path_ids_map[a]),c({type:"COURSE_FETCHED",course:t});case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},P=Object(s.b)((function(e){return{}}))((function(e){var a=e.dispatch,t=Object(o.h)(),r=t.courseId,l=t.articleId;return r=r||10,Object(n.useEffect)((function(){a(U.fetchCourse(r,l))}),[r,l]),c.a.createElement("div",{className:"body-container"},c.a.createElement(_,null),c.a.createElement(C,null))}));t(401);var D=function(){return c.a.createElement("ul",{className:"catalog"},c.a.createElement("li",{className:"card-item"},c.a.createElement("a",{href:"/course/10"},c.a.createElement("div",{className:"card-item-inner"},c.a.createElement("div",{className:"logo"},c.a.createElement("img",{alt:"course title",src:"/assets/images/2.svg"})),c.a.createElement("div",{className:"summary"},c.a.createElement("h3",{className:"title"},"C Language"),c.a.createElement("p",{className:"intro"},"Looking for an introduction to the theory behind programming? Master C while learning data structures, algorithms, and more!"),c.a.createElement("ul",{className:"tags"},c.a.createElement("li",null,"C"),c.a.createElement("li",null,"Data Structure"),c.a.createElement("li",null,"Command Line"),c.a.createElement("li",null,"Git")))))),c.a.createElement("li",{className:"card-item"},c.a.createElement("a",{href:"/course/20"},c.a.createElement("div",{className:"card-item-inner"},c.a.createElement("div",{className:"logo"},c.a.createElement("img",{alt:"course title",src:"/assets/images/1.svg"})),c.a.createElement("div",{className:"summary"},c.a.createElement("h3",{className:"title"},"Foundation of CS"),c.a.createElement("p",{className:"intro"},"Interested in learning how to code, but unsure where to start? This is the path for you!"),c.a.createElement("ul",{className:"tags"},c.a.createElement("li",null,"Computer Science History"),c.a.createElement("li",null,"Career Exploration"),c.a.createElement("li",null,"Application")))))))},V=function(){return c.a.createElement("div",{className:"page-not-found"},c.a.createElement("h1",null,"Page Not Found."))};function q(){return c.a.createElement(s.a,{store:h},c.a.createElement(i.a,null,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(o.d,null,c.a.createElement(o.b,{path:"/course/:courseId/:articleId?"},c.a.createElement(P,null)),c.a.createElement(o.b,{path:"/courses"},c.a.createElement(o.a,{to:"/"})),c.a.createElement(o.b,{exact:!0,path:"/index.html"},c.a.createElement(o.a,{to:"/"})),c.a.createElement(o.b,{exact:!0,path:"/"},c.a.createElement(D,null)),c.a.createElement(o.b,{path:"*"},c.a.createElement(V,null))))))}var J=t(56);l.a.render(c.a.createElement(q,null),document.getElementById("root")),J.a()},56:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},73:function(e,a,t){}},[[109,4,0,5]]]);
//# sourceMappingURL=main.e41ccc7a.chunk.js.map